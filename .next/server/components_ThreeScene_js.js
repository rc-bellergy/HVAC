"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "components_ThreeScene_js";
exports.ids = ["components_ThreeScene_js"];
exports.modules = {

/***/ "./components/ThreeScene.js":
/*!**********************************!*\
  !*** ./components/ThreeScene.js ***!
  \**********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ThreeScene)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three */ \"three\");\n/* harmony import */ var three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three/examples/jsm/controls/OrbitControls.js */ \"three/examples/jsm/controls/OrbitControls.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_EffectComposer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! three/examples/jsm/postprocessing/EffectComposer.js */ \"three/examples/jsm/postprocessing/EffectComposer.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_RenderPass_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three/examples/jsm/postprocessing/RenderPass.js */ \"three/examples/jsm/postprocessing/RenderPass.js\");\n/* harmony import */ var three_examples_jsm_postprocessing_UnrealBloomPass_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! three/examples/jsm/postprocessing/UnrealBloomPass.js */ \"three/examples/jsm/postprocessing/UnrealBloomPass.js\");\n/* harmony import */ var three_examples_jsm_renderers_CSS2DRenderer_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! three/examples/jsm/renderers/CSS2DRenderer.js */ \"three/examples/jsm/renderers/CSS2DRenderer.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([three__WEBPACK_IMPORTED_MODULE_2__, three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_3__, three_examples_jsm_postprocessing_EffectComposer_js__WEBPACK_IMPORTED_MODULE_4__, three_examples_jsm_postprocessing_RenderPass_js__WEBPACK_IMPORTED_MODULE_5__, three_examples_jsm_postprocessing_UnrealBloomPass_js__WEBPACK_IMPORTED_MODULE_6__, three_examples_jsm_renderers_CSS2DRenderer_js__WEBPACK_IMPORTED_MODULE_7__]);\n([three__WEBPACK_IMPORTED_MODULE_2__, three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_3__, three_examples_jsm_postprocessing_EffectComposer_js__WEBPACK_IMPORTED_MODULE_4__, three_examples_jsm_postprocessing_RenderPass_js__WEBPACK_IMPORTED_MODULE_5__, three_examples_jsm_postprocessing_UnrealBloomPass_js__WEBPACK_IMPORTED_MODULE_6__, three_examples_jsm_renderers_CSS2DRenderer_js__WEBPACK_IMPORTED_MODULE_7__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n\nfunction ThreeScene() {\n    const mountRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (false) {}\n        // Cleanup function\n        return ()=>{\n            if (mountRef.current) {\n                mountRef.current.innerHTML = \"\";\n            }\n        };\n    }, []);\n    function init() {\n        // ---------- Scene setup ----------\n        const container = mountRef.current;\n        const scene = new three__WEBPACK_IMPORTED_MODULE_2__.Scene();\n        scene.background = new three__WEBPACK_IMPORTED_MODULE_2__.Color(0x08101e);\n        scene.fog = new three__WEBPACK_IMPORTED_MODULE_2__.FogExp2(0x0a1326, 0.025);\n        const camera = new three__WEBPACK_IMPORTED_MODULE_2__.PerspectiveCamera(50, container.clientWidth / container.clientHeight, 0.1, 2000);\n        camera.position.set(42, 28, 44);\n        const renderer = new three__WEBPACK_IMPORTED_MODULE_2__.WebGLRenderer({\n            antialias: true,\n            alpha: false\n        });\n        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\n        renderer.setSize(container.clientWidth, container.clientHeight);\n        renderer.outputColorSpace = three__WEBPACK_IMPORTED_MODULE_2__.SRGBColorSpace;\n        renderer.toneMapping = three__WEBPACK_IMPORTED_MODULE_2__.ACESFilmicToneMapping;\n        renderer.toneMappingExposure = 1.2;\n        renderer.domElement.classList.add(\"webgl\");\n        container.appendChild(renderer.domElement);\n        // CSS2D overlay for labels\n        const labelRenderer = new three_examples_jsm_renderers_CSS2DRenderer_js__WEBPACK_IMPORTED_MODULE_7__.CSS2DRenderer();\n        labelRenderer.setSize(container.clientWidth, container.clientHeight);\n        labelRenderer.domElement.style.position = \"absolute\";\n        labelRenderer.domElement.style.inset = \"0\";\n        labelRenderer.domElement.style.pointerEvents = \"none\";\n        container.appendChild(labelRenderer.domElement);\n        // Controls\n        const controls = new three_examples_jsm_controls_OrbitControls_js__WEBPACK_IMPORTED_MODULE_3__.OrbitControls(camera, renderer.domElement);\n        controls.enableDamping = true;\n        controls.target.set(0, 2.5, 0);\n        controls.minDistance = 10;\n        controls.maxDistance = 160;\n        controls.autoRotate = true;\n        controls.autoRotateSpeed = 0.4;\n        // Lights\n        const hemi = new three__WEBPACK_IMPORTED_MODULE_2__.HemisphereLight(0x9fdfff, 0x0a1730, 1.2);\n        scene.add(hemi);\n        const dir = new three__WEBPACK_IMPORTED_MODULE_2__.DirectionalLight(0xaed4ff, 1.2);\n        dir.position.set(40, 60, 20);\n        scene.add(dir);\n        // ---------- Postprocessing (bloom) ----------\n        const composer = new three_examples_jsm_postprocessing_EffectComposer_js__WEBPACK_IMPORTED_MODULE_4__.EffectComposer(renderer);\n        const renderPass = new three_examples_jsm_postprocessing_RenderPass_js__WEBPACK_IMPORTED_MODULE_5__.RenderPass(scene, camera);\n        composer.addPass(renderPass);\n        const bloomPass = new three_examples_jsm_postprocessing_UnrealBloomPass_js__WEBPACK_IMPORTED_MODULE_6__.UnrealBloomPass(new three__WEBPACK_IMPORTED_MODULE_2__.Vector2(container.clientWidth, container.clientHeight), 1.2, 0.9, 0.15);\n        bloomPass.threshold = 0.18;\n        bloomPass.strength = 1.6; // overall glow\n        bloomPass.radius = 0.9;\n        composer.addPass(bloomPass);\n        // ---------- Helpers / materials ----------\n        function makeGridTexture(size = 1024, majorEvery = 8) {\n            const c = document.createElement(\"canvas\");\n            c.width = c.height = size;\n            const g = c.getContext(\"2d\");\n            g.fillStyle = \"#061226\";\n            g.fillRect(0, 0, size, size);\n            g.strokeStyle = \"#2b6db8\";\n            g.globalAlpha = .14;\n            g.lineWidth = 1;\n            for(let i = 0; i < size; i += size / 64){\n                g.beginPath();\n                g.moveTo(i, 0);\n                g.lineTo(i, size);\n                g.stroke();\n                g.beginPath();\n                g.moveTo(0, i);\n                g.lineTo(size, i);\n                g.stroke();\n            }\n            g.strokeStyle = \"#4cc3ff\";\n            g.globalAlpha = .25;\n            g.lineWidth = 1.2;\n            for(let i = 0; i <= size; i += size / majorEvery){\n                g.beginPath();\n                g.moveTo(i, 0);\n                g.lineTo(i, size);\n                g.stroke();\n                g.beginPath();\n                g.moveTo(0, i);\n                g.lineTo(size, i);\n                g.stroke();\n            }\n            return new three__WEBPACK_IMPORTED_MODULE_2__.CanvasTexture(c);\n        }\n        const gridTex = makeGridTexture();\n        gridTex.wrapS = gridTex.wrapT = three__WEBPACK_IMPORTED_MODULE_2__.RepeatWrapping;\n        gridTex.repeat.set(12, 12);\n        const floorMat = new three__WEBPACK_IMPORTED_MODULE_2__.MeshStandardMaterial({\n            color: new three__WEBPACK_IMPORTED_MODULE_2__.Color(0x0b1a32),\n            map: gridTex,\n            metalness: 0.0,\n            roughness: 1.0\n        });\n        const floor = new three__WEBPACK_IMPORTED_MODULE_2__.Mesh(new three__WEBPACK_IMPORTED_MODULE_2__.PlaneGeometry(90, 56), floorMat);\n        floor.rotation.x = -Math.PI / 2;\n        floor.position.y = 0.01;\n        scene.add(floor);\n        const gridHelper = new three__WEBPACK_IMPORTED_MODULE_2__.GridHelper(90, 45, 0x4cc3ff, 0x2b6db8);\n        gridHelper.position.y = 0.02;\n        scene.add(gridHelper);\n        // Utility: asset labeling\n        function addLabel(obj, text) {\n            const el = document.createElement(\"div\");\n            el.className = \"label\";\n            el.textContent = text;\n            const label = new three_examples_jsm_renderers_CSS2DRenderer_js__WEBPACK_IMPORTED_MODULE_7__.CSS2DObject(el);\n            label.position.set(0, 1.8, 0);\n            obj.add(label);\n            return el;\n        }\n        // ---------- Pipe shader (animated dashes) ----------\n        const pipeUniforms = {\n            uTime: {\n                value: 0\n            },\n            uColorA: {\n                value: new three__WEBPACK_IMPORTED_MODULE_2__.Color(0x47e1ff)\n            },\n            uColorB: {\n                value: new three__WEBPACK_IMPORTED_MODULE_2__.Color(0x00ffa9)\n            },\n            uGlow: {\n                value: 1.0\n            },\n            uSpeed: {\n                value: 0.5\n            },\n            uStripe: {\n                value: 26.0\n            },\n            uMix: {\n                value: 0.5\n            }\n        };\n        const pipeMat = new three__WEBPACK_IMPORTED_MODULE_2__.ShaderMaterial({\n            uniforms: pipeUniforms,\n            transparent: true,\n            blending: three__WEBPACK_IMPORTED_MODULE_2__.AdditiveBlending,\n            depthWrite: false,\n            vertexShader: `\n        varying vec2 vUv;\n        varying float vCurve;\n        void main(){\n          vUv = uv;\n          vec3 transformed = position.xyz;\n          vCurve = length(normal.xy);\n          gl_Position = projectionMatrix * modelViewMatrix * vec4(transformed,1.0);\n        }\n      `,\n            fragmentShader: `\n        varying vec2 vUv;\n        varying float vCurve;\n        uniform float uTime;\n        uniform vec3 uColorA;\n        uniform vec3 uColorB;\n        uniform float uGlow;\n        uniform float uSpeed;\n        uniform float uStripe;\n        uniform float uMix;\n        float pulse(float x){ return 0.5 + 0.5 * sin(x); }\n        void main(){\n          float t = fract(vUv.x * uStripe - uTime * (0.6 + 1.2*uSpeed));\n          float dash = smoothstep(0.1, 0.0, abs(t-0.5));\n          float core = smoothstep(0.04, 0.0, abs(t-0.5));\n          vec3 col = mix(uColorA, uColorB, uMix);\n          float edge = smoothstep(1.2, 0.2, vCurve);\n          float sparkle = 0.4 * pulse(uTime*2.0 + vUv.x*10.0);\n          float alpha = clamp(dash*1.6 + edge*0.35 + sparkle*0.15, 0.0, 1.0);\n          gl_FragColor = vec4(col * (1.0 + 2.0*core + 0.6*edge), alpha*uGlow);\n        }\n      `\n        });\n        // Helper: create tube along points\n        function makePipe(points, radius = 0.12) {\n            const curve = new three__WEBPACK_IMPORTED_MODULE_2__.CatmullRomCurve3(points, false, \"catmullrom\", 0.2);\n            const geom = new three__WEBPACK_IMPORTED_MODULE_2__.TubeGeometry(curve, Math.max(80, points.length * 20), radius, 16, false);\n            const mesh = new three__WEBPACK_IMPORTED_MODULE_2__.Mesh(geom, pipeMat);\n            const shell = new three__WEBPACK_IMPORTED_MODULE_2__.Mesh(new three__WEBPACK_IMPORTED_MODULE_2__.TubeGeometry(curve, Math.max(80, points.length * 20), radius * 1.35, 16, false), new three__WEBPACK_IMPORTED_MODULE_2__.MeshStandardMaterial({\n                color: 0x0b2b49,\n                metalness: 0.2,\n                roughness: 0.5,\n                transparent: true,\n                opacity: 0.08\n            }));\n            const group = new three__WEBPACK_IMPORTED_MODULE_2__.Group();\n            group.add(mesh, shell);\n            return {\n                group,\n                curve\n            };\n        }\n        // ---------- Assets (tanks, reactors, machines) ----------\n        const PICK = [];\n        function makeTank(id, pos) {\n            const g = new three__WEBPACK_IMPORTED_MODULE_2__.Group();\n            g.position.copy(pos);\n            const cyl = new three__WEBPACK_IMPORTED_MODULE_2__.Mesh(new three__WEBPACK_IMPORTED_MODULE_2__.CylinderGeometry(1.6, 1.6, 5.2, 24), new three__WEBPACK_IMPORTED_MODULE_2__.MeshStandardMaterial({\n                color: 0x2a70b7,\n                roughness: 0.2,\n                metalness: 0.1,\n                emissive: 0x0c5ca3,\n                emissiveIntensity: 0.6\n            }));\n            g.add(cyl);\n            g.userData = {\n                id,\n                name: `Tank ${id}`,\n                type: \"tank\",\n                temp: 21 + Math.random() * 4,\n                load: 0.5,\n                state: \"ok\"\n            };\n            addLabel(g, `Tank ${id}`);\n            PICK.push(cyl);\n            cyl.userData.ref = g;\n            scene.add(g);\n            return g;\n        }\n        function makeChiller(id, pos) {\n            const g = new three__WEBPACK_IMPORTED_MODULE_2__.Group();\n            g.position.copy(pos);\n            const box = new three__WEBPACK_IMPORTED_MODULE_2__.Mesh(new three__WEBPACK_IMPORTED_MODULE_2__.BoxGeometry(6, 3, 3), new three__WEBPACK_IMPORTED_MODULE_2__.MeshStandardMaterial({\n                color: 0x0d8a37,\n                roughness: 0.4,\n                metalness: 0.2,\n                emissive: 0x39ff78,\n                emissiveIntensity: 0.7,\n                transparent: true,\n                opacity: 0.92\n            }));\n            box.position.y = 1.5;\n            const frame = new three__WEBPACK_IMPORTED_MODULE_2__.LineSegments(new three__WEBPACK_IMPORTED_MODULE_2__.EdgesGeometry(new three__WEBPACK_IMPORTED_MODULE_2__.BoxGeometry(6, 3, 3)), new three__WEBPACK_IMPORTED_MODULE_2__.LineBasicMaterial({\n                color: 0x9affc9,\n                transparent: true,\n                opacity: 0.8\n            }));\n            frame.position.copy(box.position);\n            g.add(box, frame);\n            g.userData = {\n                id,\n                name: `Chiller ${id}`,\n                type: \"chiller\",\n                temp: 35 + Math.random() * 5,\n                load: 0.5,\n                state: \"ok\"\n            };\n            addLabel(g, `Chiller ${id}`);\n            PICK.push(box);\n            box.userData.ref = g;\n            scene.add(g);\n            return g;\n        }\n        function makeCompressor(id, pos) {\n            const g = new three__WEBPACK_IMPORTED_MODULE_2__.Group();\n            g.position.copy(pos);\n            const base = new three__WEBPACK_IMPORTED_MODULE_2__.Mesh(new three__WEBPACK_IMPORTED_MODULE_2__.BoxGeometry(4, 0.6, 4), new three__WEBPACK_IMPORTED_MODULE_2__.MeshStandardMaterial({\n                color: 0x1a1a1a,\n                roughness: .9,\n                metalness: .05,\n                emissive: 0x151515\n            }));\n            base.position.y = 0.3;\n            const body = new three__WEBPACK_IMPORTED_MODULE_2__.Mesh(new three__WEBPACK_IMPORTED_MODULE_2__.CylinderGeometry(1.3, 1.3, 4.2, 24), new three__WEBPACK_IMPORTED_MODULE_2__.MeshStandardMaterial({\n                color: 0x5a1a08,\n                roughness: 0.6,\n                metalness: 0.2,\n                emissive: 0xff6a2a,\n                emissiveIntensity: 0.9,\n                transparent: true,\n                opacity: 0.85\n            }));\n            body.position.y = 2.5;\n            g.add(base, body);\n            g.userData = {\n                id,\n                name: `Compressor ${id}`,\n                type: \"compressor\",\n                temp: 60 + Math.random() * 10,\n                load: 0.7,\n                state: \"ok\"\n            };\n            addLabel(g, `Compressor ${id}`);\n            PICK.push(body);\n            body.userData.ref = g;\n            scene.add(g);\n            return g;\n        }\n        // ---------- Layout (from 03.html) ----------\n        const tanks = [];\n        const chillers = [];\n        const compressors = [];\n        const tankPositions = [\n            [\n                -34,\n                -10\n            ],\n            [\n                -34,\n                -2\n            ],\n            [\n                -34,\n                6\n            ],\n            [\n                -34,\n                14\n            ]\n        ];\n        tankPositions.forEach(([x, z], i)=>{\n            tanks.push(makeTank(i + 1, new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(x, 2.6, z)));\n        });\n        const chillerPositions = [\n            -20,\n            -10,\n            0,\n            10,\n            20\n        ];\n        chillerPositions.forEach((x, i)=>{\n            chillers.push(makeChiller(i + 1, new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(x, 0, -6)));\n        });\n        const compressorPositions = [\n            -15,\n            -5,\n            5,\n            15\n        ];\n        compressorPositions.forEach((x, i)=>{\n            compressors.push(makeCompressor(i + 1, new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(x, 0, 6)));\n        });\n        // ---------- Pipe network ----------\n        const pipes = [];\n        // Connect tanks to a main line\n        const tankMainPts = [\n            new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(-40, 1.8, -12),\n            new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(-30, 1.8, 16)\n        ];\n        pipes.push(makePipe(tankMainPts, 0.18));\n        tanks.forEach((t)=>{\n            const p = t.position.clone();\n            pipes.push(makePipe([\n                new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(p.x + 1.8, 1.8, p.z),\n                new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(-30, 1.8, p.z)\n            ], 0.12));\n        });\n        // Connect chillers to a main line\n        const chillerMainPts = [\n            new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(-24, 1.2, -3),\n            new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(24, 1.2, -3)\n        ];\n        pipes.push(makePipe(chillerMainPts, 0.16));\n        chillers.forEach((c)=>{\n            const p = c.position.clone();\n            pipes.push(makePipe([\n                new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(p.x, 1.2, p.z + 1.5),\n                new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(p.x, 1.2, -3)\n            ], 0.12));\n        });\n        // Connect compressors to a main line\n        const compressorMainPts = [\n            new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(-20, 1.2, 3),\n            new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(20, 1.2, 3)\n        ];\n        pipes.push(makePipe(compressorMainPts, 0.16));\n        compressors.forEach((c)=>{\n            const p = c.position.clone();\n            pipes.push(makePipe([\n                new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(p.x, 1.2, p.z - 2),\n                new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(p.x, 1.2, 3)\n            ], 0.12));\n        });\n        // Cross-connect the main lines\n        pipes.push(makePipe([\n            new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(-28, 1.5, -8),\n            new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(-28, 1.5, 8)\n        ], 0.14));\n        pipes.push(makePipe([\n            new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(22, 1.5, 0),\n            new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(22, 1.5, 8)\n        ], 0.14));\n        pipes.forEach((p)=>scene.add(p.group));\n        // ---------- Flow particles ----------\n        function movingDot(color = 0x8cf0ff) {\n            const m = new three__WEBPACK_IMPORTED_MODULE_2__.Mesh(new three__WEBPACK_IMPORTED_MODULE_2__.SphereGeometry(0.15, 12, 12), new three__WEBPACK_IMPORTED_MODULE_2__.MeshBasicMaterial({\n                color,\n                transparent: true,\n                opacity: 0.9\n            }));\n            return m;\n        }\n        const flowDots = [];\n        pipes.slice(0, 3).forEach((p)=>{\n            for(let i = 0; i < 6; i++){\n                const d = movingDot(i % 2 ? 0x8cf0ff : 0x00ffa9);\n                scene.add(d);\n                flowDots.push({\n                    mesh: d,\n                    curve: p.curve,\n                    t: Math.random(),\n                    speed: 0.04 + Math.random() * 0.06\n                });\n            }\n        });\n        // ---------- Interactivity ----------\n        const raycaster = new three__WEBPACK_IMPORTED_MODULE_2__.Raycaster();\n        const mouse = new three__WEBPACK_IMPORTED_MODULE_2__.Vector2();\n        let selected = null;\n        function setSelection(mesh) {\n            selected = mesh?.userData?.ref || null;\n            updateSide(selected);\n        }\n        function onPointer(e) {\n            const rect = renderer.domElement.getBoundingClientRect();\n            const x = (e.clientX - rect.left) / rect.width * 2 - 1;\n            const y = -((e.clientY - rect.top) / rect.height) * 2 + 1;\n            mouse.set(x, y);\n            raycaster.setFromCamera(mouse, camera);\n            const list = raycaster.intersectObjects(PICK, false);\n            if (list.length > 0) setSelection(list[0].object);\n            else setSelection(null);\n        }\n        renderer.domElement.addEventListener(\"pointerdown\", onPointer);\n        // ---------- Telemetry simulation ----------\n        const allAssets = [\n            ...tanks,\n            ...chillers,\n            ...compressors\n        ];\n        function tickTelemetry() {\n            let throughput = 0;\n            // Generate more random throughput value\n            throughput = 0.5 + Math.random() * 3.0; // Random value between 0.5 and 3.5\n            // Update assets with more random values\n            allAssets.forEach((g)=>{\n                const u = g.userData;\n                // More random load values\n                u.load = Math.random();\n                u.temp = 20 + Math.random() * 60; // Temperature between 20 and 80\n                let state = \"ok\";\n                if (u.load > 0.95 || u.temp > 70) state = \"warn\";\n                if (u.load > 1.05 || u.temp > 80) state = \"alert\";\n                u.state = state;\n                const k = g.children.find((c)=>c.isMesh) || g;\n                const emissiveBoost = state === \"ok\" ? 0.8 : state === \"warn\" ? 1.3 : 1.7;\n                if (k.material && \"emissiveIntensity\" in k.material) {\n                    k.material.emissiveIntensity = emissiveBoost;\n                    if (u.type === \"chiller\") {\n                        k.material.color.set(state === \"alert\" ? 0x40141f : state === \"warn\" ? 0x2b4a0f : 0x0d8a37);\n                        k.material.emissive.set(state === \"alert\" ? 0xff355d : state === \"warn\" ? 0xff8a3a : 0x39ff78);\n                    }\n                    if (u.type === \"compressor\") {\n                        k.material.emissive.set(state === \"alert\" ? 0xff355d : state === \"warn\" ? 0xff8a3a : 0xff6a2a);\n                    }\n                }\n                const lbl = g.children.find((ch)=>ch.isCSS2DObject)?.element;\n                if (lbl) {\n                    lbl.classList.toggle(\"warn\", state === \"warn\");\n                    lbl.classList.toggle(\"alert\", state === \"alert\");\n                    lbl.innerHTML = `${u.name}<br><span class=\"value\">${u.load.toFixed(2)} load</span>`;\n                }\n            });\n            document.getElementById(\"throughput\").textContent = throughput.toFixed(2);\n            sparkPush(throughput);\n            if (selected) updateSide(selected);\n        }\n        setInterval(tickTelemetry, 10000);\n        // ---------- Side panel updates ----------\n        function updateSide(g) {\n            if (!g) {\n                document.getElementById(\"selId\").textContent = \"–\";\n                document.getElementById(\"selName\").textContent = \"Tap an object\";\n                document.getElementById(\"selStatus\").textContent = \"–\";\n                document.getElementById(\"selTemp\").textContent = \"–\";\n                document.getElementById(\"selLoad\").textContent = \"–\";\n                return;\n            }\n            const u = g.userData;\n            document.getElementById(\"selId\").textContent = u.id;\n            document.getElementById(\"selName\").textContent = `${u.name} (${u.type})`;\n            document.getElementById(\"selStatus\").textContent = u.state.toUpperCase();\n            document.getElementById(\"selTemp\").textContent = `${u.temp.toFixed(1)} °C`;\n            document.getElementById(\"selLoad\").textContent = `${(u.load * 100).toFixed(0)} %`;\n        }\n        // ---------- Sparkline ----------\n        const spark = document.getElementById(\"spark\");\n        const sg = spark.getContext(\"2d\");\n        let sparkData = [];\n        function sparkDraw() {\n            const w = spark.width = spark.clientWidth * 2;\n            const h = spark.height = spark.clientHeight * 2;\n            sg.clearRect(0, 0, w, h);\n            sg.fillStyle = \"#07142a\";\n            sg.fillRect(0, 0, w, h);\n            sg.strokeStyle = \"#13325a\";\n            sg.globalAlpha = .6;\n            sg.lineWidth = 1;\n            for(let x = 0; x < w; x += w / 10){\n                sg.beginPath();\n                sg.moveTo(x, 0);\n                sg.lineTo(x, h);\n                sg.stroke();\n            }\n            if (sparkData.length < 2) return;\n            const max = Math.max(1, ...sparkData);\n            const min = 0;\n            sg.globalAlpha = 1.0;\n            const grad = sg.createLinearGradient(0, 0, 0, h);\n            grad.addColorStop(0, \"#2dfcff44\");\n            grad.addColorStop(1, \"#00ffa922\");\n            sg.fillStyle = grad;\n            sg.beginPath();\n            sparkData.forEach((v, i)=>{\n                const x = i / (sparkData.length - 1) * (w - 4) + 2;\n                const y = h - (v - min) / (max - min) * (h - 6) - 3;\n                if (i === 0) sg.moveTo(x, y);\n                else sg.lineTo(x, y);\n            });\n            sg.lineTo(w - 2, h - 2);\n            sg.lineTo(2, h - 2);\n            sg.closePath();\n            sg.fill();\n            sg.strokeStyle = \"#68fff4\";\n            sg.lineWidth = 2.5;\n            sg.globalAlpha = 0.9;\n            sg.beginPath();\n            sparkData.forEach((v, i)=>{\n                const x = i / (sparkData.length - 1) * (w - 4) + 2;\n                const y = h - (v - min) / (max - min) * (h - 6) - 3;\n                if (i === 0) sg.moveTo(x, y);\n                else sg.lineTo(x, y);\n            });\n            sg.stroke();\n        }\n        function sparkPush(v) {\n            sparkData.push(v);\n            if (sparkData.length > 80) sparkData.shift();\n            sparkDraw();\n        }\n        window.addEventListener(\"resize\", sparkDraw);\n        // ---------- UI controls ----------\n        const flowRadios = [\n            ...document.querySelectorAll(\"input[name=flow]\")\n        ];\n        flowRadios.forEach((r)=>r.addEventListener(\"change\", ()=>{\n                const mode = Number(document.querySelector(\"input[name=flow]:checked\").value);\n                pipeUniforms.uSpeed.value = mode === 0 ? 0.0 : mode === 1 ? 0.55 : 1.4;\n            }));\n        document.getElementById(\"btnReset\").addEventListener(\"click\", ()=>{\n            camera.position.set(42, 28, 44);\n            controls.target.set(0, 2.5, 0);\n            controls.update();\n        });\n        let dark = true;\n        document.getElementById(\"btnTheme\").addEventListener(\"click\", ()=>{\n            dark = !dark;\n            scene.background = new three__WEBPACK_IMPORTED_MODULE_2__.Color(dark ? 0x08101e : 0x0e1c28);\n            renderer.toneMappingExposure = dark ? 1.2 : 1.0;\n        });\n        document.getElementById(\"btnStart\").addEventListener(\"click\", ()=>pipeUniforms.uSpeed.value = 0.8);\n        document.getElementById(\"btnStop\").addEventListener(\"click\", ()=>pipeUniforms.uSpeed.value = 0.0);\n        document.getElementById(\"btnPulse\").addEventListener(\"click\", ()=>{\n            const g = allAssets[Math.floor(Math.random() * allAssets.length)];\n            g.userData.temp = 85 + Math.random() * 10;\n            g.userData.load = 1.1;\n            tickTelemetry();\n        });\n        // Auto Rotate toggle\n        const btnAutoRotate = document.getElementById(\"btnAutoRotate\");\n        btnAutoRotate.addEventListener(\"click\", ()=>{\n            controls.autoRotate = !controls.autoRotate;\n            btnAutoRotate.textContent = controls.autoRotate ? \"Auto Rotate: ON\" : \"Auto Rotate: OFF\";\n        });\n        // ---------- Animation loop ----------\n        let clock = new three__WEBPACK_IMPORTED_MODULE_2__.Clock();\n        function animate() {\n            requestAnimationFrame(animate);\n            const dt = clock.getDelta();\n            pipeUniforms.uTime.value += dt;\n            flowDots.forEach((d)=>{\n                d.t = (d.t + d.speed * (0.3 + pipeUniforms.uSpeed.value)) % 1;\n                const pos = d.curve.getPointAt(d.t);\n                d.mesh.position.copy(pos);\n            });\n            controls.update();\n            composer.render();\n            labelRenderer.render(scene, camera);\n        }\n        animate();\n        // ---------- Resize ----------\n        function onResize() {\n            const w = container.clientWidth, h = container.clientHeight;\n            camera.aspect = w / h;\n            camera.updateProjectionMatrix();\n            renderer.setSize(w, h);\n            composer.setSize(w, h);\n            labelRenderer.setSize(w, h);\n        }\n        window.addEventListener(\"resize\", onResize);\n        // Initial telemetry seed - more random data\n        for(let i = 0; i < 24; i++)sparkPush(0.5 + Math.random() * 3.0);\n        tickTelemetry();\n        // Subtle camera intro from 03.html\n        (function introCam() {\n            const start = performance.now(), dur = 1600;\n            const sPos = camera.position.clone();\n            const ePos = new three__WEBPACK_IMPORTED_MODULE_2__.Vector3(34, 22, 38);\n            function step() {\n                const t = Math.min(1, (performance.now() - start) / dur);\n                const k = 1 - Math.pow(1 - t, 3);\n                camera.position.lerpVectors(sPos, ePos, k);\n                controls.update();\n                if (t < 1) requestAnimationFrame(step);\n            }\n            step();\n        })();\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: mountRef,\n        style: {\n            width: \"100%\",\n            height: \"100%\"\n        }\n    }, void 0, false, {\n        fileName: \"/Users/bellergy/Library/CloudStorage/GoogleDrive-michael.chau@mpiot.com.hk/My Drive/Projects/Demo UI/digital-twins/HVAC/components/ThreeScene.js\",\n        lineNumber: 527,\n        columnNumber: 10\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WTtZQUMzREgsT0FBTzBQLE1BQU0sR0FBRzVCLElBQUVDO1lBQUcvTixPQUFPMlAsc0JBQXNCO1lBQ2xEclAsU0FBU1MsT0FBTyxDQUFDK00sR0FBRUM7WUFDbkJ2TCxTQUFTekIsT0FBTyxDQUFDK00sR0FBRUM7WUFDbkJ0TSxjQUFjVixPQUFPLENBQUMrTSxHQUFFQztRQUMxQjtRQUNBbE4sT0FBT3dMLGdCQUFnQixDQUFDLFVBQVVvRDtRQUVsQyw0Q0FBNEM7UUFDNUMsSUFBSSxJQUFJMUwsSUFBRSxHQUFFQSxJQUFFLElBQUdBLElBQUt3SixVQUFVLE1BQU01TSxLQUFLaUksTUFBTSxLQUFLO1FBQ3REMkQ7UUFFQSxtQ0FBbUM7UUFDbEMsVUFBU3FEO1lBQ1IsTUFBTUMsUUFBUUMsWUFBWUMsR0FBRyxJQUFJQyxNQUFNO1lBQ3ZDLE1BQU1DLE9BQU9qUSxPQUFPSSxRQUFRLENBQUNvSyxLQUFLO1lBQ2xDLE1BQU0wRixPQUFPLElBQUlyUiwwQ0FBYSxDQUFDLElBQUksSUFBSTtZQUN2QyxTQUFTc1I7Z0JBQ1AsTUFBTTdGLElBQUkzSixLQUFLQyxHQUFHLENBQUMsR0FBRyxDQUFDa1AsWUFBWUMsR0FBRyxLQUFHRixLQUFJLElBQUdHO2dCQUNoRCxNQUFNdEQsSUFBSSxJQUFJL0wsS0FBS3lQLEdBQUcsQ0FBQyxJQUFFOUYsR0FBRztnQkFDNUJ0SyxPQUFPSSxRQUFRLENBQUNpUSxXQUFXLENBQUNKLE1BQU1DLE1BQU14RDtnQkFDeEM3SyxTQUFTaU4sTUFBTTtnQkFDZixJQUFJeEUsSUFBRSxHQUFHOEUsc0JBQXNCZTtZQUNqQztZQUNBQTtRQUNGO0lBQ0Y7SUFFQSxxQkFBTyw4REFBQ0c7UUFBSXRILEtBQUszSjtRQUFVcUMsT0FBTztZQUFFNEIsT0FBTztZQUFRQyxRQUFRO1FBQU87Ozs7OztBQUNwRSIsInNvdXJjZXMiOlsid2VicGFjazovL2h2YWMtZGlnaXRhbC10d2luLy4vY29tcG9uZW50cy9UaHJlZVNjZW5lLmpzPzliMGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBUSFJFRSBmcm9tICd0aHJlZSc7XG5pbXBvcnQgeyBPcmJpdENvbnRyb2xzIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL2NvbnRyb2xzL09yYml0Q29udHJvbHMuanMnO1xuaW1wb3J0IHsgRWZmZWN0Q29tcG9zZXIgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vcG9zdHByb2Nlc3NpbmcvRWZmZWN0Q29tcG9zZXIuanMnO1xuaW1wb3J0IHsgUmVuZGVyUGFzcyB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9wb3N0cHJvY2Vzc2luZy9SZW5kZXJQYXNzLmpzJztcbmltcG9ydCB7IFVucmVhbEJsb29tUGFzcyB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9wb3N0cHJvY2Vzc2luZy9VbnJlYWxCbG9vbVBhc3MuanMnO1xuaW1wb3J0IHsgQ1NTMkRSZW5kZXJlciwgQ1NTMkRPYmplY3QgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vcmVuZGVyZXJzL0NTUzJEUmVuZGVyZXIuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBUaHJlZVNjZW5lKCkge1xuICBjb25zdCBtb3VudFJlZiA9IHVzZVJlZihudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaW5pdCgpO1xuICAgIH1cblxuICAgIC8vIENsZWFudXAgZnVuY3Rpb25cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKG1vdW50UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgbW91bnRSZWYuY3VycmVudC5pbm5lckhUTUwgPSAnJztcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAvLyAtLS0tLS0tLS0tIFNjZW5lIHNldHVwIC0tLS0tLS0tLS1cbiAgICBjb25zdCBjb250YWluZXIgPSBtb3VudFJlZi5jdXJyZW50O1xuXG4gICAgY29uc3Qgc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICBzY2VuZS5iYWNrZ3JvdW5kID0gbmV3IFRIUkVFLkNvbG9yKDB4MDgxMDFlKTtcbiAgICBzY2VuZS5mb2cgPSBuZXcgVEhSRUUuRm9nRXhwMigweDBhMTMyNiwgMC4wMjUpO1xuXG4gICAgY29uc3QgY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKDUwLCBjb250YWluZXIuY2xpZW50V2lkdGggLyBjb250YWluZXIuY2xpZW50SGVpZ2h0LCAwLjEsIDIwMDApO1xuICAgIGNhbWVyYS5wb3NpdGlvbi5zZXQoNDIsIDI4LCA0NCk7XG5cbiAgICBjb25zdCByZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHsgYW50aWFsaWFzOiB0cnVlLCBhbHBoYTogZmFsc2UgfSk7XG4gICAgcmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyhNYXRoLm1pbih3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbywgMikpO1xuICAgIHJlbmRlcmVyLnNldFNpemUoY29udGFpbmVyLmNsaWVudFdpZHRoLCBjb250YWluZXIuY2xpZW50SGVpZ2h0KTtcbiAgICByZW5kZXJlci5vdXRwdXRDb2xvclNwYWNlID0gVEhSRUUuU1JHQkNvbG9yU3BhY2U7XG4gICAgcmVuZGVyZXIudG9uZU1hcHBpbmcgPSBUSFJFRS5BQ0VTRmlsbWljVG9uZU1hcHBpbmc7XG4gICAgcmVuZGVyZXIudG9uZU1hcHBpbmdFeHBvc3VyZSA9IDEuMjtcbiAgICByZW5kZXJlci5kb21FbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3dlYmdsJyk7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuXG4gICAgLy8gQ1NTMkQgb3ZlcmxheSBmb3IgbGFiZWxzXG4gICAgY29uc3QgbGFiZWxSZW5kZXJlciA9IG5ldyBDU1MyRFJlbmRlcmVyKCk7XG4gICAgbGFiZWxSZW5kZXJlci5zZXRTaXplKGNvbnRhaW5lci5jbGllbnRXaWR0aCwgY29udGFpbmVyLmNsaWVudEhlaWdodCk7XG4gICAgbGFiZWxSZW5kZXJlci5kb21FbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICBsYWJlbFJlbmRlcmVyLmRvbUVsZW1lbnQuc3R5bGUuaW5zZXQgPSAnMCc7XG4gICAgbGFiZWxSZW5kZXJlci5kb21FbGVtZW50LnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGxhYmVsUmVuZGVyZXIuZG9tRWxlbWVudCk7XG5cbiAgICAvLyBDb250cm9sc1xuICAgIGNvbnN0IGNvbnRyb2xzID0gbmV3IE9yYml0Q29udHJvbHMoY2FtZXJhLCByZW5kZXJlci5kb21FbGVtZW50KTtcbiAgICBjb250cm9scy5lbmFibGVEYW1waW5nID0gdHJ1ZTtcbiAgICBjb250cm9scy50YXJnZXQuc2V0KDAsIDIuNSwgMCk7XG4gICAgY29udHJvbHMubWluRGlzdGFuY2UgPSAxMDtcbiAgICBjb250cm9scy5tYXhEaXN0YW5jZSA9IDE2MDtcbiAgICBjb250cm9scy5hdXRvUm90YXRlID0gdHJ1ZTtcbiAgICBjb250cm9scy5hdXRvUm90YXRlU3BlZWQgPSAwLjQ7XG5cbiAgICAvLyBMaWdodHNcbiAgICBjb25zdCBoZW1pID0gbmV3IFRIUkVFLkhlbWlzcGhlcmVMaWdodCgweDlmZGZmZiwgMHgwYTE3MzAsIDEuMik7XG4gICAgc2NlbmUuYWRkKGhlbWkpO1xuICAgIGNvbnN0IGRpciA9IG5ldyBUSFJFRS5EaXJlY3Rpb25hbExpZ2h0KDB4YWVkNGZmLCAxLjIpO1xuICAgIGRpci5wb3NpdGlvbi5zZXQoNDAsIDYwLCAyMCk7XG4gICAgc2NlbmUuYWRkKGRpcik7XG5cbiAgICAvLyAtLS0tLS0tLS0tIFBvc3Rwcm9jZXNzaW5nIChibG9vbSkgLS0tLS0tLS0tLVxuICAgIGNvbnN0IGNvbXBvc2VyID0gbmV3IEVmZmVjdENvbXBvc2VyKHJlbmRlcmVyKTtcbiAgICBjb25zdCByZW5kZXJQYXNzID0gbmV3IFJlbmRlclBhc3Moc2NlbmUsIGNhbWVyYSk7XG4gICAgY29tcG9zZXIuYWRkUGFzcyhyZW5kZXJQYXNzKTtcbiAgICBjb25zdCBibG9vbVBhc3MgPSBuZXcgVW5yZWFsQmxvb21QYXNzKG5ldyBUSFJFRS5WZWN0b3IyKGNvbnRhaW5lci5jbGllbnRXaWR0aCwgY29udGFpbmVyLmNsaWVudEhlaWdodCksIDEuMiwgMC45LCAwLjE1KTtcbiAgICBibG9vbVBhc3MudGhyZXNob2xkID0gMC4xODtcbiAgICBibG9vbVBhc3Muc3RyZW5ndGggPSAxLjY7ICAgICAgLy8gb3ZlcmFsbCBnbG93XG4gICAgYmxvb21QYXNzLnJhZGl1cyA9IDAuOTtcbiAgICBjb21wb3Nlci5hZGRQYXNzKGJsb29tUGFzcyk7XG5cbiAgICAvLyAtLS0tLS0tLS0tIEhlbHBlcnMgLyBtYXRlcmlhbHMgLS0tLS0tLS0tLVxuICAgIGZ1bmN0aW9uIG1ha2VHcmlkVGV4dHVyZShzaXplPTEwMjQsIG1ham9yRXZlcnk9OCkge1xuICAgICAgY29uc3QgYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgYy53aWR0aCA9IGMuaGVpZ2h0ID0gc2l6ZTtcbiAgICAgIGNvbnN0IGcgPSBjLmdldENvbnRleHQoJzJkJyk7XG4gICAgICBnLmZpbGxTdHlsZSA9ICcjMDYxMjI2JztcbiAgICAgIGcuZmlsbFJlY3QoMCwwLHNpemUsc2l6ZSk7XG4gICAgICBnLnN0cm9rZVN0eWxlID0gJyMyYjZkYjgnO1xuICAgICAgZy5nbG9iYWxBbHBoYSA9IC4xNDtcbiAgICAgIGcubGluZVdpZHRoID0gMTtcbiAgICAgIGZvcihsZXQgaT0wO2k8c2l6ZTtpKz1zaXplLzY0KXtcbiAgICAgICAgZy5iZWdpblBhdGgoKTsgZy5tb3ZlVG8oaSwwKTsgZy5saW5lVG8oaSxzaXplKTsgZy5zdHJva2UoKTtcbiAgICAgICAgZy5iZWdpblBhdGgoKTsgZy5tb3ZlVG8oMCxpKTsgZy5saW5lVG8oc2l6ZSxpKTsgZy5zdHJva2UoKTtcbiAgICAgIH1cbiAgICAgIGcuc3Ryb2tlU3R5bGUgPSAnIzRjYzNmZic7XG4gICAgICBnLmdsb2JhbEFscGhhID0gLjI1OyBnLmxpbmVXaWR0aCA9IDEuMjtcbiAgICAgIGZvcihsZXQgaT0wO2k8PXNpemU7aSs9c2l6ZS9tYWpvckV2ZXJ5KXtcbiAgICAgICAgZy5iZWdpblBhdGgoKTsgZy5tb3ZlVG8oaSwwKTsgZy5saW5lVG8oaSxzaXplKTsgZy5zdHJva2UoKTtcbiAgICAgICAgZy5iZWdpblBhdGgoKTsgZy5tb3ZlVG8oMCxpKTsgZy5saW5lVG8oc2l6ZSxpKTsgZy5zdHJva2UoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgVEhSRUUuQ2FudmFzVGV4dHVyZShjKTtcbiAgICB9XG5cbiAgICBjb25zdCBncmlkVGV4ID0gbWFrZUdyaWRUZXh0dXJlKCk7XG4gICAgZ3JpZFRleC53cmFwUyA9IGdyaWRUZXgud3JhcFQgPSBUSFJFRS5SZXBlYXRXcmFwcGluZztcbiAgICBncmlkVGV4LnJlcGVhdC5zZXQoMTIsMTIpO1xuXG4gICAgY29uc3QgZmxvb3JNYXQgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoe1xuICAgICAgY29sb3I6IG5ldyBUSFJFRS5Db2xvcigweDBiMWEzMiksXG4gICAgICBtYXA6IGdyaWRUZXgsXG4gICAgICBtZXRhbG5lc3M6IDAuMCxcbiAgICAgIHJvdWdobmVzczogMS4wLFxuICAgIH0pO1xuXG4gICAgY29uc3QgZmxvb3IgPSBuZXcgVEhSRUUuTWVzaChuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeSg5MCwgNTYpLCBmbG9vck1hdCk7XG4gICAgZmxvb3Iucm90YXRpb24ueCA9IC1NYXRoLlBJLzI7XG4gICAgZmxvb3IucG9zaXRpb24ueSA9IDAuMDE7XG4gICAgc2NlbmUuYWRkKGZsb29yKTtcbiAgICBjb25zdCBncmlkSGVscGVyID0gbmV3IFRIUkVFLkdyaWRIZWxwZXIoOTAsIDQ1LCAweDRjYzNmZiwgMHgyYjZkYjgpO1xuICAgIGdyaWRIZWxwZXIucG9zaXRpb24ueSA9IDAuMDI7XG4gICAgc2NlbmUuYWRkKGdyaWRIZWxwZXIpO1xuXG4gICAgLy8gVXRpbGl0eTogYXNzZXQgbGFiZWxpbmdcbiAgICBmdW5jdGlvbiBhZGRMYWJlbChvYmosIHRleHQpIHtcbiAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBlbC5jbGFzc05hbWUgPSAnbGFiZWwnO1xuICAgICAgZWwudGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgICAgY29uc3QgbGFiZWwgPSBuZXcgQ1NTMkRPYmplY3QoZWwpO1xuICAgICAgbGFiZWwucG9zaXRpb24uc2V0KDAsIDEuOCwgMCk7XG4gICAgICBvYmouYWRkKGxhYmVsKTtcbiAgICAgIHJldHVybiBlbDtcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tIFBpcGUgc2hhZGVyIChhbmltYXRlZCBkYXNoZXMpIC0tLS0tLS0tLS1cbiAgICBjb25zdCBwaXBlVW5pZm9ybXMgPSB7XG4gICAgICB1VGltZTogeyB2YWx1ZTogMCB9LFxuICAgICAgdUNvbG9yQTogeyB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4NDdlMWZmKSB9LFxuICAgICAgdUNvbG9yQjogeyB2YWx1ZTogbmV3IFRIUkVFLkNvbG9yKDB4MDBmZmE5KSB9LFxuICAgICAgdUdsb3c6ICB7IHZhbHVlOiAxLjAgfSxcbiAgICAgIHVTcGVlZDogeyB2YWx1ZTogMC41IH0sXG4gICAgICB1U3RyaXBlOiB7IHZhbHVlOiAyNi4wIH0sXG4gICAgICB1TWl4OiB7IHZhbHVlOiAwLjUgfVxuICAgIH07XG5cbiAgICBjb25zdCBwaXBlTWF0ID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHtcbiAgICAgIHVuaWZvcm1zOiBwaXBlVW5pZm9ybXMsXG4gICAgICB0cmFuc3BhcmVudDogdHJ1ZSxcbiAgICAgIGJsZW5kaW5nOiBUSFJFRS5BZGRpdGl2ZUJsZW5kaW5nLFxuICAgICAgZGVwdGhXcml0ZTogZmFsc2UsXG4gICAgICB2ZXJ0ZXhTaGFkZXI6IGBcbiAgICAgICAgdmFyeWluZyB2ZWMyIHZVdjtcbiAgICAgICAgdmFyeWluZyBmbG9hdCB2Q3VydmU7XG4gICAgICAgIHZvaWQgbWFpbigpe1xuICAgICAgICAgIHZVdiA9IHV2O1xuICAgICAgICAgIHZlYzMgdHJhbnNmb3JtZWQgPSBwb3NpdGlvbi54eXo7XG4gICAgICAgICAgdkN1cnZlID0gbGVuZ3RoKG5vcm1hbC54eSk7XG4gICAgICAgICAgZ2xfUG9zaXRpb24gPSBwcm9qZWN0aW9uTWF0cml4ICogbW9kZWxWaWV3TWF0cml4ICogdmVjNCh0cmFuc2Zvcm1lZCwxLjApO1xuICAgICAgICB9XG4gICAgICBgLFxuICAgICAgZnJhZ21lbnRTaGFkZXI6IGBcbiAgICAgICAgdmFyeWluZyB2ZWMyIHZVdjtcbiAgICAgICAgdmFyeWluZyBmbG9hdCB2Q3VydmU7XG4gICAgICAgIHVuaWZvcm0gZmxvYXQgdVRpbWU7XG4gICAgICAgIHVuaWZvcm0gdmVjMyB1Q29sb3JBO1xuICAgICAgICB1bmlmb3JtIHZlYzMgdUNvbG9yQjtcbiAgICAgICAgdW5pZm9ybSBmbG9hdCB1R2xvdztcbiAgICAgICAgdW5pZm9ybSBmbG9hdCB1U3BlZWQ7XG4gICAgICAgIHVuaWZvcm0gZmxvYXQgdVN0cmlwZTtcbiAgICAgICAgdW5pZm9ybSBmbG9hdCB1TWl4O1xuICAgICAgICBmbG9hdCBwdWxzZShmbG9hdCB4KXsgcmV0dXJuIDAuNSArIDAuNSAqIHNpbih4KTsgfVxuICAgICAgICB2b2lkIG1haW4oKXtcbiAgICAgICAgICBmbG9hdCB0ID0gZnJhY3QodlV2LnggKiB1U3RyaXBlIC0gdVRpbWUgKiAoMC42ICsgMS4yKnVTcGVlZCkpO1xuICAgICAgICAgIGZsb2F0IGRhc2ggPSBzbW9vdGhzdGVwKDAuMSwgMC4wLCBhYnModC0wLjUpKTtcbiAgICAgICAgICBmbG9hdCBjb3JlID0gc21vb3Roc3RlcCgwLjA0LCAwLjAsIGFicyh0LTAuNSkpO1xuICAgICAgICAgIHZlYzMgY29sID0gbWl4KHVDb2xvckEsIHVDb2xvckIsIHVNaXgpO1xuICAgICAgICAgIGZsb2F0IGVkZ2UgPSBzbW9vdGhzdGVwKDEuMiwgMC4yLCB2Q3VydmUpO1xuICAgICAgICAgIGZsb2F0IHNwYXJrbGUgPSAwLjQgKiBwdWxzZSh1VGltZSoyLjAgKyB2VXYueCoxMC4wKTtcbiAgICAgICAgICBmbG9hdCBhbHBoYSA9IGNsYW1wKGRhc2gqMS42ICsgZWRnZSowLjM1ICsgc3BhcmtsZSowLjE1LCAwLjAsIDEuMCk7XG4gICAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNChjb2wgKiAoMS4wICsgMi4wKmNvcmUgKyAwLjYqZWRnZSksIGFscGhhKnVHbG93KTtcbiAgICAgICAgfVxuICAgICAgYFxuICAgIH0pO1xuXG4gICAgLy8gSGVscGVyOiBjcmVhdGUgdHViZSBhbG9uZyBwb2ludHNcbiAgICBmdW5jdGlvbiBtYWtlUGlwZShwb2ludHMsIHJhZGl1cz0wLjEyKSB7XG4gICAgICBjb25zdCBjdXJ2ZSA9IG5ldyBUSFJFRS5DYXRtdWxsUm9tQ3VydmUzKHBvaW50cywgZmFsc2UsICdjYXRtdWxscm9tJywgMC4yKTtcbiAgICAgIGNvbnN0IGdlb20gPSBuZXcgVEhSRUUuVHViZUdlb21ldHJ5KGN1cnZlLCBNYXRoLm1heCg4MCwgcG9pbnRzLmxlbmd0aCoyMCksIHJhZGl1cywgMTYsIGZhbHNlKTtcbiAgICAgIGNvbnN0IG1lc2ggPSBuZXcgVEhSRUUuTWVzaChnZW9tLCBwaXBlTWF0KTtcbiAgICAgIGNvbnN0IHNoZWxsID0gbmV3IFRIUkVFLk1lc2goXG4gICAgICAgIG5ldyBUSFJFRS5UdWJlR2VvbWV0cnkoY3VydmUsIE1hdGgubWF4KDgwLCBwb2ludHMubGVuZ3RoKjIwKSwgcmFkaXVzKjEuMzUsIDE2LCBmYWxzZSksXG4gICAgICAgIG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7IGNvbG9yOjB4MGIyYjQ5LCBtZXRhbG5lc3M6MC4yLCByb3VnaG5lc3M6MC41LCB0cmFuc3BhcmVudDp0cnVlLCBvcGFjaXR5OjAuMDggfSlcbiAgICAgICk7XG4gICAgICBjb25zdCBncm91cCA9IG5ldyBUSFJFRS5Hcm91cCgpO1xuICAgICAgZ3JvdXAuYWRkKG1lc2gsIHNoZWxsKTtcbiAgICAgIHJldHVybiB7IGdyb3VwLCBjdXJ2ZSB9O1xuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS0gQXNzZXRzICh0YW5rcywgcmVhY3RvcnMsIG1hY2hpbmVzKSAtLS0tLS0tLS0tXG4gICAgY29uc3QgUElDSyA9IFtdO1xuXG4gICAgZnVuY3Rpb24gbWFrZVRhbmsoaWQsIHBvcyl7XG4gICAgICBjb25zdCBnID0gbmV3IFRIUkVFLkdyb3VwKCk7IGcucG9zaXRpb24uY29weShwb3MpO1xuICAgICAgY29uc3QgY3lsID0gbmV3IFRIUkVFLk1lc2goXG4gICAgICAgIG5ldyBUSFJFRS5DeWxpbmRlckdlb21ldHJ5KDEuNiwgMS42LCA1LjIsIDI0KSxcbiAgICAgICAgbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHsgY29sb3I6MHgyYTcwYjcsIHJvdWdobmVzczowLjIsIG1ldGFsbmVzczowLjEsIGVtaXNzaXZlOjB4MGM1Y2EzLCBlbWlzc2l2ZUludGVuc2l0eTowLjYgfSlcbiAgICAgICk7XG4gICAgICBnLmFkZChjeWwpO1xuICAgICAgZy51c2VyRGF0YSA9IHsgaWQsIG5hbWU6YFRhbmsgJHtpZH1gLCB0eXBlOid0YW5rJywgdGVtcDogMjErTWF0aC5yYW5kb20oKSo0LCBsb2FkOiAwLjUsIHN0YXRlOiAnb2snIH07XG4gICAgICBhZGRMYWJlbChnLCBgVGFuayAke2lkfWApO1xuICAgICAgUElDSy5wdXNoKGN5bCk7XG4gICAgICBjeWwudXNlckRhdGEucmVmID0gZztcbiAgICAgIHNjZW5lLmFkZChnKTtcbiAgICAgIHJldHVybiBnO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VDaGlsbGVyKGlkLCBwb3Mpe1xuICAgICAgY29uc3QgZyA9IG5ldyBUSFJFRS5Hcm91cCgpOyBnLnBvc2l0aW9uLmNvcHkocG9zKTtcbiAgICAgIGNvbnN0IGJveCA9IG5ldyBUSFJFRS5NZXNoKFxuICAgICAgICBuZXcgVEhSRUUuQm94R2VvbWV0cnkoNiwgMywgMyksXG4gICAgICAgIG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7IGNvbG9yOjB4MGQ4YTM3LCByb3VnaG5lc3M6MC40LCBtZXRhbG5lc3M6MC4yLCBlbWlzc2l2ZToweDM5ZmY3OCwgZW1pc3NpdmVJbnRlbnNpdHk6MC43LCB0cmFuc3BhcmVudDp0cnVlLCBvcGFjaXR5OjAuOTIgfSlcbiAgICAgICk7XG4gICAgICBib3gucG9zaXRpb24ueSA9IDEuNTtcbiAgICAgIGNvbnN0IGZyYW1lID0gbmV3IFRIUkVFLkxpbmVTZWdtZW50cyhcbiAgICAgICAgbmV3IFRIUkVFLkVkZ2VzR2VvbWV0cnkobmV3IFRIUkVFLkJveEdlb21ldHJ5KDYsMywzKSksXG4gICAgICAgIG5ldyBUSFJFRS5MaW5lQmFzaWNNYXRlcmlhbCh7IGNvbG9yOjB4OWFmZmM5LCB0cmFuc3BhcmVudDp0cnVlLCBvcGFjaXR5OjAuOCB9KVxuICAgICAgKTtcbiAgICAgIGZyYW1lLnBvc2l0aW9uLmNvcHkoYm94LnBvc2l0aW9uKTtcbiAgICAgIGcuYWRkKGJveCwgZnJhbWUpO1xuICAgICAgZy51c2VyRGF0YSA9IHsgaWQsIG5hbWU6YENoaWxsZXIgJHtpZH1gLCB0eXBlOidjaGlsbGVyJywgdGVtcDogMzUrTWF0aC5yYW5kb20oKSo1LCBsb2FkOiAwLjUsIHN0YXRlOidvaycgfTtcbiAgICAgIGFkZExhYmVsKGcsIGBDaGlsbGVyICR7aWR9YCk7XG4gICAgICBQSUNLLnB1c2goYm94KTtcbiAgICAgIGJveC51c2VyRGF0YS5yZWYgPSBnO1xuICAgICAgc2NlbmUuYWRkKGcpO1xuICAgICAgcmV0dXJuIGc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZUNvbXByZXNzb3IoaWQsIHBvcyl7XG4gICAgICBjb25zdCBnID0gbmV3IFRIUkVFLkdyb3VwKCk7IGcucG9zaXRpb24uY29weShwb3MpO1xuICAgICAgY29uc3QgYmFzZSA9IG5ldyBUSFJFRS5NZXNoKG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSg0LCAwLjYsIDQpLCBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoe1xuICAgICAgICBjb2xvcjogMHgxYTFhMWEsIHJvdWdobmVzczogLjksIG1ldGFsbmVzczogLjA1LCBlbWlzc2l2ZTogMHgxNTE1MTVcbiAgICAgIH0pKTtcbiAgICAgIGJhc2UucG9zaXRpb24ueSA9IDAuMztcbiAgICAgIGNvbnN0IGJvZHkgPSBuZXcgVEhSRUUuTWVzaChuZXcgVEhSRUUuQ3lsaW5kZXJHZW9tZXRyeSgxLjMsIDEuMywgNC4yLCAyNCksIG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7XG4gICAgICAgIGNvbG9yOiAweDVhMWEwOCwgcm91Z2huZXNzOiAwLjYsIG1ldGFsbmVzczogMC4yLCBlbWlzc2l2ZTogMHhmZjZhMmEsIGVtaXNzaXZlSW50ZW5zaXR5OiAwLjksIHRyYW5zcGFyZW50OnRydWUsIG9wYWNpdHk6MC44NVxuICAgICAgfSkpO1xuICAgICAgYm9keS5wb3NpdGlvbi55ID0gMi41O1xuICAgICAgZy5hZGQoYmFzZSwgYm9keSk7XG4gICAgICBnLnVzZXJEYXRhID0geyBpZCwgbmFtZTpgQ29tcHJlc3NvciAke2lkfWAsIHR5cGU6J2NvbXByZXNzb3InLCB0ZW1wOiA2MCtNYXRoLnJhbmRvbSgpKjEwLCBsb2FkOiAwLjcsIHN0YXRlOidvaycgfTtcbiAgICAgIGFkZExhYmVsKGcsIGBDb21wcmVzc29yICR7aWR9YCk7XG4gICAgICBQSUNLLnB1c2goYm9keSk7XG4gICAgICBib2R5LnVzZXJEYXRhLnJlZiA9IGc7XG4gICAgICBzY2VuZS5hZGQoZyk7XG4gICAgICByZXR1cm4gZztcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tIExheW91dCAoZnJvbSAwMy5odG1sKSAtLS0tLS0tLS0tXG4gICAgY29uc3QgdGFua3MgPSBbXTtcbiAgICBjb25zdCBjaGlsbGVycyA9IFtdO1xuICAgIGNvbnN0IGNvbXByZXNzb3JzID0gW107XG5cbiAgICBjb25zdCB0YW5rUG9zaXRpb25zID0gWyBbLTM0LCAtMTBdLCBbLTM0LCAtMl0sIFstMzQsIDZdLCBbLTM0LCAxNF0gXTtcbiAgICB0YW5rUG9zaXRpb25zLmZvckVhY2goKFt4LHpdLCBpKSA9PiB7XG4gICAgICB0YW5rcy5wdXNoKG1ha2VUYW5rKGkrMSwgbmV3IFRIUkVFLlZlY3RvcjMoeCwgMi42LCB6KSkpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgY2hpbGxlclBvc2l0aW9ucyA9IFsgLTIwLCAtMTAsIDAsIDEwLCAyMCBdO1xuICAgIGNoaWxsZXJQb3NpdGlvbnMuZm9yRWFjaCgoeCwgaSkgPT4ge1xuICAgICAgY2hpbGxlcnMucHVzaChtYWtlQ2hpbGxlcihpKzEsIG5ldyBUSFJFRS5WZWN0b3IzKHgsIDAsIC02KSkpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgY29tcHJlc3NvclBvc2l0aW9ucyA9IFsgLTE1LCAtNSwgNSwgMTUgXTtcbiAgICBjb21wcmVzc29yUG9zaXRpb25zLmZvckVhY2goKHgsIGkpID0+IHtcbiAgICAgIGNvbXByZXNzb3JzLnB1c2gobWFrZUNvbXByZXNzb3IoaSsxLCBuZXcgVEhSRUUuVmVjdG9yMyh4LCAwLCA2KSkpO1xuICAgIH0pO1xuXG4gICAgLy8gLS0tLS0tLS0tLSBQaXBlIG5ldHdvcmsgLS0tLS0tLS0tLVxuICAgIGNvbnN0IHBpcGVzID0gW107XG4gICAgLy8gQ29ubmVjdCB0YW5rcyB0byBhIG1haW4gbGluZVxuICAgIGNvbnN0IHRhbmtNYWluUHRzID0gW25ldyBUSFJFRS5WZWN0b3IzKC00MCwgMS44LCAtMTIpLCBuZXcgVEhSRUUuVmVjdG9yMygtMzAsIDEuOCwgMTYpXTtcbiAgICBwaXBlcy5wdXNoKG1ha2VQaXBlKHRhbmtNYWluUHRzLCAwLjE4KSk7XG4gICAgdGFua3MuZm9yRWFjaCh0ID0+IHtcbiAgICAgIGNvbnN0IHAgPSB0LnBvc2l0aW9uLmNsb25lKCk7XG4gICAgICBwaXBlcy5wdXNoKG1ha2VQaXBlKFtuZXcgVEhSRUUuVmVjdG9yMyhwLngrMS44LCAxLjgsIHAueiksIG5ldyBUSFJFRS5WZWN0b3IzKC0zMCwgMS44LCBwLnopXSwgMC4xMikpO1xuICAgIH0pO1xuXG4gICAgLy8gQ29ubmVjdCBjaGlsbGVycyB0byBhIG1haW4gbGluZVxuICAgIGNvbnN0IGNoaWxsZXJNYWluUHRzID0gW25ldyBUSFJFRS5WZWN0b3IzKC0yNCwgMS4yLCAtMyksIG5ldyBUSFJFRS5WZWN0b3IzKDI0LCAxLjIsIC0zKV07XG4gICAgcGlwZXMucHVzaChtYWtlUGlwZShjaGlsbGVyTWFpblB0cywgMC4xNikpO1xuICAgIGNoaWxsZXJzLmZvckVhY2goYyA9PiB7XG4gICAgICBjb25zdCBwID0gYy5wb3NpdGlvbi5jbG9uZSgpO1xuICAgICAgcGlwZXMucHVzaChtYWtlUGlwZShbbmV3IFRIUkVFLlZlY3RvcjMocC54LCAxLjIsIHAueisxLjUpLCBuZXcgVEhSRUUuVmVjdG9yMyhwLngsIDEuMiwgLTMpXSwgMC4xMikpO1xuICAgIH0pO1xuXG4gICAgLy8gQ29ubmVjdCBjb21wcmVzc29ycyB0byBhIG1haW4gbGluZVxuICAgIGNvbnN0IGNvbXByZXNzb3JNYWluUHRzID0gW25ldyBUSFJFRS5WZWN0b3IzKC0yMCwgMS4yLCAzKSwgbmV3IFRIUkVFLlZlY3RvcjMoMjAsIDEuMiwgMyldO1xuICAgIHBpcGVzLnB1c2gobWFrZVBpcGUoY29tcHJlc3Nvck1haW5QdHMsIDAuMTYpKTtcbiAgICBjb21wcmVzc29ycy5mb3JFYWNoKGMgPT4ge1xuICAgICAgY29uc3QgcCA9IGMucG9zaXRpb24uY2xvbmUoKTtcbiAgICAgIHBpcGVzLnB1c2gobWFrZVBpcGUoW25ldyBUSFJFRS5WZWN0b3IzKHAueCwgMS4yLCBwLnotMiksIG5ldyBUSFJFRS5WZWN0b3IzKHAueCwgMS4yLCAzKV0sIDAuMTIpKTtcbiAgICB9KTtcblxuICAgIC8vIENyb3NzLWNvbm5lY3QgdGhlIG1haW4gbGluZXNcbiAgICBwaXBlcy5wdXNoKG1ha2VQaXBlKFtuZXcgVEhSRUUuVmVjdG9yMygtMjgsIDEuNSwgLTgpLCBuZXcgVEhSRUUuVmVjdG9yMygtMjgsIDEuNSwgOCldLCAwLjE0KSk7XG4gICAgcGlwZXMucHVzaChtYWtlUGlwZShbbmV3IFRIUkVFLlZlY3RvcjMoMjIsIDEuNSwgMCksIG5ldyBUSFJFRS5WZWN0b3IzKDIyLCAxLjUsIDgpXSwgMC4xNCkpO1xuXG4gICAgcGlwZXMuZm9yRWFjaChwID0+IHNjZW5lLmFkZChwLmdyb3VwKSk7XG5cbiAgICAvLyAtLS0tLS0tLS0tIEZsb3cgcGFydGljbGVzIC0tLS0tLS0tLS1cbiAgICBmdW5jdGlvbiBtb3ZpbmdEb3QoY29sb3I9MHg4Y2YwZmYpe1xuICAgICAgY29uc3QgbSA9IG5ldyBUSFJFRS5NZXNoKG5ldyBUSFJFRS5TcGhlcmVHZW9tZXRyeSgwLjE1LCAxMiwgMTIpLCBuZXcgVEhSRUUuTWVzaEJhc2ljTWF0ZXJpYWwoeyBjb2xvciwgdHJhbnNwYXJlbnQ6dHJ1ZSwgb3BhY2l0eTowLjkgfSkpO1xuICAgICAgcmV0dXJuIG07XG4gICAgfVxuICAgIGNvbnN0IGZsb3dEb3RzID0gW107XG4gICAgcGlwZXMuc2xpY2UoMCwzKS5mb3JFYWNoKHAgPT4geyAvLyBhZGQgZG90cyB0byBmaXJzdCAzIHBpcGVzXG4gICAgICBmb3IobGV0IGk9MDsgaTw2OyBpKyspe1xuICAgICAgICBjb25zdCBkID0gbW92aW5nRG90KGklMj8weDhjZjBmZjoweDAwZmZhOSk7XG4gICAgICAgIHNjZW5lLmFkZChkKTtcbiAgICAgICAgZmxvd0RvdHMucHVzaCh7IG1lc2g6ZCwgY3VydmU6IHAuY3VydmUsIHQ6IE1hdGgucmFuZG9tKCksIHNwZWVkOiAwLjA0ICsgTWF0aC5yYW5kb20oKSowLjA2IH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gLS0tLS0tLS0tLSBJbnRlcmFjdGl2aXR5IC0tLS0tLS0tLS1cbiAgICBjb25zdCByYXljYXN0ZXIgPSBuZXcgVEhSRUUuUmF5Y2FzdGVyKCk7XG4gICAgY29uc3QgbW91c2UgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuICAgIGxldCBzZWxlY3RlZCA9IG51bGw7XG5cbiAgICBmdW5jdGlvbiBzZXRTZWxlY3Rpb24obWVzaCl7XG4gICAgICBzZWxlY3RlZCA9IG1lc2g/LnVzZXJEYXRhPy5yZWYgfHwgbnVsbDtcbiAgICAgIHVwZGF0ZVNpZGUoc2VsZWN0ZWQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uUG9pbnRlcihlKXtcbiAgICAgIGNvbnN0IHJlY3QgPSByZW5kZXJlci5kb21FbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgY29uc3QgeCA9ICggKGUuY2xpZW50WCAtIHJlY3QubGVmdCkgLyByZWN0LndpZHRoICkgKiAyIC0gMTtcbiAgICAgIGNvbnN0IHkgPSAtKCAoZS5jbGllbnRZIC0gcmVjdC50b3ApIC8gcmVjdC5oZWlnaHQgKSAqIDIgKyAxO1xuICAgICAgbW91c2Uuc2V0KHgseSk7XG4gICAgICByYXljYXN0ZXIuc2V0RnJvbUNhbWVyYShtb3VzZSwgY2FtZXJhKTtcbiAgICAgIGNvbnN0IGxpc3QgPSByYXljYXN0ZXIuaW50ZXJzZWN0T2JqZWN0cyhQSUNLLCBmYWxzZSk7XG4gICAgICBpZihsaXN0Lmxlbmd0aD4wKSBzZXRTZWxlY3Rpb24obGlzdFswXS5vYmplY3QpO1xuICAgICAgZWxzZSBzZXRTZWxlY3Rpb24obnVsbCk7XG4gICAgfVxuICAgIHJlbmRlcmVyLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCBvblBvaW50ZXIpO1xuXG4gICAgLy8gLS0tLS0tLS0tLSBUZWxlbWV0cnkgc2ltdWxhdGlvbiAtLS0tLS0tLS0tXG4gICAgY29uc3QgYWxsQXNzZXRzID0gWy4uLnRhbmtzLCAuLi5jaGlsbGVycywgLi4uY29tcHJlc3NvcnNdO1xuICAgIGZ1bmN0aW9uIHRpY2tUZWxlbWV0cnkoKXtcbiAgICAgIGxldCB0aHJvdWdocHV0ID0gMDtcbiAgICAgIC8vIEdlbmVyYXRlIG1vcmUgcmFuZG9tIHRocm91Z2hwdXQgdmFsdWVcbiAgICAgIHRocm91Z2hwdXQgPSAwLjUgKyBNYXRoLnJhbmRvbSgpICogMy4wOyAvLyBSYW5kb20gdmFsdWUgYmV0d2VlbiAwLjUgYW5kIDMuNVxuICAgICAgXG4gICAgICAvLyBVcGRhdGUgYXNzZXRzIHdpdGggbW9yZSByYW5kb20gdmFsdWVzXG4gICAgICBhbGxBc3NldHMuZm9yRWFjaChnPT57XG4gICAgICAgIGNvbnN0IHUgPSBnLnVzZXJEYXRhO1xuICAgICAgICAvLyBNb3JlIHJhbmRvbSBsb2FkIHZhbHVlc1xuICAgICAgICB1LmxvYWQgPSBNYXRoLnJhbmRvbSgpO1xuICAgICAgICB1LnRlbXAgPSAyMCArIE1hdGgucmFuZG9tKCkgKiA2MDsgLy8gVGVtcGVyYXR1cmUgYmV0d2VlbiAyMCBhbmQgODBcbiAgICAgICAgbGV0IHN0YXRlPSdvayc7XG4gICAgICAgIGlmKHUubG9hZD4wLjk1IHx8IHUudGVtcD43MCkgc3RhdGU9J3dhcm4nO1xuICAgICAgICBpZih1LmxvYWQ+MS4wNSB8fCB1LnRlbXA+ODApIHN0YXRlPSdhbGVydCc7XG4gICAgICAgIHUuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgY29uc3QgayA9IChnLmNoaWxkcmVuLmZpbmQoYz0+Yy5pc01lc2gpfHxnKTtcbiAgICAgICAgY29uc3QgZW1pc3NpdmVCb29zdCA9IHN0YXRlPT09J29rJz8gMC44IDogc3RhdGU9PT0nd2Fybic/IDEuMyA6IDEuNztcbiAgICAgICAgaWYoay5tYXRlcmlhbCAmJiAnZW1pc3NpdmVJbnRlbnNpdHknIGluIGsubWF0ZXJpYWwpe1xuICAgICAgICAgIGsubWF0ZXJpYWwuZW1pc3NpdmVJbnRlbnNpdHkgPSBlbWlzc2l2ZUJvb3N0O1xuICAgICAgICAgIGlmKHUudHlwZT09PSdjaGlsbGVyJyl7XG4gICAgICAgICAgICBrLm1hdGVyaWFsLmNvbG9yLnNldChzdGF0ZT09PSdhbGVydCc/MHg0MDE0MWY6IHN0YXRlPT09J3dhcm4nPzB4MmI0YTBmOiAweDBkOGEzNyk7XG4gICAgICAgICAgICBrLm1hdGVyaWFsLmVtaXNzaXZlLnNldChzdGF0ZT09PSdhbGVydCc/MHhmZjM1NWQ6IHN0YXRlPT09J3dhcm4nPzB4ZmY4YTNhOiAweDM5ZmY3OCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKHUudHlwZT09PSdjb21wcmVzc29yJyl7XG4gICAgICAgICAgICBrLm1hdGVyaWFsLmVtaXNzaXZlLnNldChzdGF0ZT09PSdhbGVydCc/MHhmZjM1NWQ6IHN0YXRlPT09J3dhcm4nPzB4ZmY4YTNhOiAweGZmNmEyYSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxibCA9IGcuY2hpbGRyZW4uZmluZChjaD0+Y2guaXNDU1MyRE9iamVjdCk/LmVsZW1lbnQ7XG4gICAgICAgIGlmKGxibCl7XG4gICAgICAgICAgbGJsLmNsYXNzTGlzdC50b2dnbGUoJ3dhcm4nLCBzdGF0ZT09PSd3YXJuJyk7XG4gICAgICAgICAgbGJsLmNsYXNzTGlzdC50b2dnbGUoJ2FsZXJ0Jywgc3RhdGU9PT0nYWxlcnQnKTtcbiAgICAgICAgICBsYmwuaW5uZXJIVE1MID0gYCR7dS5uYW1lfTxicj48c3BhbiBjbGFzcz1cInZhbHVlXCI+JHt1LmxvYWQudG9GaXhlZCgyKX0gbG9hZDwvc3Bhbj5gO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aHJvdWdocHV0JykudGV4dENvbnRlbnQgPSAodGhyb3VnaHB1dCkudG9GaXhlZCgyKTtcbiAgICAgIHNwYXJrUHVzaCh0aHJvdWdocHV0KTtcbiAgICAgIGlmKHNlbGVjdGVkKSB1cGRhdGVTaWRlKHNlbGVjdGVkKTtcbiAgICB9XG4gICAgc2V0SW50ZXJ2YWwodGlja1RlbGVtZXRyeSwgMTAwMDApO1xuXG4gICAgLy8gLS0tLS0tLS0tLSBTaWRlIHBhbmVsIHVwZGF0ZXMgLS0tLS0tLS0tLVxuICAgIGZ1bmN0aW9uIHVwZGF0ZVNpZGUoZyl7XG4gICAgICBpZighZyl7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxJZCcpLnRleHRDb250ZW50ID0gJ+KAkyc7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxOYW1lJykudGV4dENvbnRlbnQgPSAnVGFwIGFuIG9iamVjdCc7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxTdGF0dXMnKS50ZXh0Q29udGVudCA9ICfigJMnO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsVGVtcCcpLnRleHRDb250ZW50ID0gJ+KAkyc7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxMb2FkJykudGV4dENvbnRlbnQgPSAn4oCTJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgdT1nLnVzZXJEYXRhO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbElkJykudGV4dENvbnRlbnQgPSB1LmlkO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbE5hbWUnKS50ZXh0Q29udGVudCA9IGAke3UubmFtZX0gKCR7dS50eXBlfSlgO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbFN0YXR1cycpLnRleHRDb250ZW50ID0gdS5zdGF0ZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbFRlbXAnKS50ZXh0Q29udGVudCA9IGAke3UudGVtcC50b0ZpeGVkKDEpfSDCsENgO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbExvYWQnKS50ZXh0Q29udGVudCA9IGAkeyh1LmxvYWQqMTAwKS50b0ZpeGVkKDApfSAlYDtcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tIFNwYXJrbGluZSAtLS0tLS0tLS0tXG4gICAgY29uc3Qgc3BhcmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3BhcmsnKTtcbiAgICBjb25zdCBzZyA9IHNwYXJrLmdldENvbnRleHQoJzJkJyk7XG4gICAgbGV0IHNwYXJrRGF0YSA9IFtdO1xuICAgIGZ1bmN0aW9uIHNwYXJrRHJhdygpe1xuICAgICAgY29uc3QgdyA9IHNwYXJrLndpZHRoID0gc3BhcmsuY2xpZW50V2lkdGgqMjtcbiAgICAgIGNvbnN0IGggPSBzcGFyay5oZWlnaHQgPSBzcGFyay5jbGllbnRIZWlnaHQqMjtcbiAgICAgIHNnLmNsZWFyUmVjdCgwLDAsdyxoKTtcbiAgICAgIHNnLmZpbGxTdHlsZSA9ICcjMDcxNDJhJztcbiAgICAgIHNnLmZpbGxSZWN0KDAsMCx3LGgpO1xuICAgICAgc2cuc3Ryb2tlU3R5bGUgPSAnIzEzMzI1YSc7IHNnLmdsb2JhbEFscGhhID0gLjY7IHNnLmxpbmVXaWR0aCA9IDE7XG4gICAgICBmb3IobGV0IHg9MDsgeDx3OyB4Kz13LzEwKXsgc2cuYmVnaW5QYXRoKCk7IHNnLm1vdmVUbyh4LDApOyBzZy5saW5lVG8oeCxoKTsgc2cuc3Ryb2tlKCk7IH1cbiAgICAgIGlmKHNwYXJrRGF0YS5sZW5ndGg8MikgcmV0dXJuO1xuICAgICAgY29uc3QgbWF4ID0gTWF0aC5tYXgoMSwgLi4uc3BhcmtEYXRhKTtcbiAgICAgIGNvbnN0IG1pbiA9IDA7XG4gICAgICBzZy5nbG9iYWxBbHBoYSA9IDEuMDtcbiAgICAgIGNvbnN0IGdyYWQgPSBzZy5jcmVhdGVMaW5lYXJHcmFkaWVudCgwLDAsMCxoKTtcbiAgICAgIGdyYWQuYWRkQ29sb3JTdG9wKDAsICcjMmRmY2ZmNDQnKTtcbiAgICAgIGdyYWQuYWRkQ29sb3JTdG9wKDEsICcjMDBmZmE5MjInKTtcbiAgICAgIHNnLmZpbGxTdHlsZSA9IGdyYWQ7XG4gICAgICBzZy5iZWdpblBhdGgoKTtcbiAgICAgIHNwYXJrRGF0YS5mb3JFYWNoKCh2LGkpPT57XG4gICAgICAgIGNvbnN0IHggPSBpLyhzcGFya0RhdGEubGVuZ3RoLTEpICogKHctNCkgKyAyO1xuICAgICAgICBjb25zdCB5ID0gaCAtICh2LW1pbikvKG1heC1taW4pICogKGgtNikgLSAzO1xuICAgICAgICBpZihpPT09MCkgc2cubW92ZVRvKHgseSk7IGVsc2Ugc2cubGluZVRvKHgseSk7XG4gICAgICB9KTtcbiAgICAgIHNnLmxpbmVUbyh3LTIsIGgtMik7IHNnLmxpbmVUbygyLCBoLTIpOyBzZy5jbG9zZVBhdGgoKTsgc2cuZmlsbCgpO1xuICAgICAgc2cuc3Ryb2tlU3R5bGUgPSAnIzY4ZmZmNCc7IHNnLmxpbmVXaWR0aCA9IDIuNTsgc2cuZ2xvYmFsQWxwaGEgPSAwLjk7XG4gICAgICBzZy5iZWdpblBhdGgoKTtcbiAgICAgIHNwYXJrRGF0YS5mb3JFYWNoKCh2LGkpPT57XG4gICAgICAgIGNvbnN0IHggPSBpLyhzcGFya0RhdGEubGVuZ3RoLTEpICogKHctNCkgKyAyO1xuICAgICAgICBjb25zdCB5ID0gaCAtICh2LW1pbikvKG1heC1taW4pICogKGgtNikgLSAzO1xuICAgICAgICBpZihpPT09MCkgc2cubW92ZVRvKHgseSk7IGVsc2Ugc2cubGluZVRvKHgseSk7XG4gICAgICB9KTtcbiAgICAgIHNnLnN0cm9rZSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzcGFya1B1c2godil7XG4gICAgICBzcGFya0RhdGEucHVzaCh2KTtcbiAgICAgIGlmKHNwYXJrRGF0YS5sZW5ndGg+ODApIHNwYXJrRGF0YS5zaGlmdCgpO1xuICAgICAgc3BhcmtEcmF3KCk7XG4gICAgfVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBzcGFya0RyYXcpO1xuXG4gICAgLy8gLS0tLS0tLS0tLSBVSSBjb250cm9scyAtLS0tLS0tLS0tXG4gICAgY29uc3QgZmxvd1JhZGlvcyA9IFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFtuYW1lPWZsb3ddJyldO1xuICAgIGZsb3dSYWRpb3MuZm9yRWFjaChyID0+IHIuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCk9PntcbiAgICAgIGNvbnN0IG1vZGUgPSBOdW1iZXIoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1mbG93XTpjaGVja2VkJykudmFsdWUpO1xuICAgICAgcGlwZVVuaWZvcm1zLnVTcGVlZC52YWx1ZSA9IG1vZGU9PT0wPyAwLjAgOiBtb2RlPT09MT8gMC41NSA6IDEuNDtcbiAgICB9KSk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0blJlc2V0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xuICAgICAgY2FtZXJhLnBvc2l0aW9uLnNldCg0MiwgMjgsIDQ0KTtcbiAgICAgIGNvbnRyb2xzLnRhcmdldC5zZXQoMCwgMi41LCAwKTtcbiAgICAgIGNvbnRyb2xzLnVwZGF0ZSgpO1xuICAgIH0pO1xuICAgIGxldCBkYXJrID0gdHJ1ZTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuVGhlbWUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57XG4gICAgICBkYXJrID0gIWRhcms7XG4gICAgICBzY2VuZS5iYWNrZ3JvdW5kID0gbmV3IFRIUkVFLkNvbG9yKGRhcms/MHgwODEwMWU6MHgwZTFjMjgpO1xuICAgICAgcmVuZGVyZXIudG9uZU1hcHBpbmdFeHBvc3VyZSA9IGRhcms/MS4yOjEuMDtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuU3RhcnQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT4gcGlwZVVuaWZvcm1zLnVTcGVlZC52YWx1ZSA9IDAuOCk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0blN0b3AnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT4gcGlwZVVuaWZvcm1zLnVTcGVlZC52YWx1ZSA9IDAuMCk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0blB1bHNlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xuICAgICAgY29uc3QgZyA9IGFsbEFzc2V0c1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqYWxsQXNzZXRzLmxlbmd0aCldO1xuICAgICAgZy51c2VyRGF0YS50ZW1wID0gODUgKyBNYXRoLnJhbmRvbSgpKjEwO1xuICAgICAgZy51c2VyRGF0YS5sb2FkID0gMS4xO1xuICAgICAgdGlja1RlbGVtZXRyeSgpO1xuICAgIH0pO1xuICAgIFxuICAgIC8vIEF1dG8gUm90YXRlIHRvZ2dsZVxuICAgIGNvbnN0IGJ0bkF1dG9Sb3RhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuQXV0b1JvdGF0ZScpO1xuICAgIGJ0bkF1dG9Sb3RhdGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xuICAgICAgY29udHJvbHMuYXV0b1JvdGF0ZSA9ICFjb250cm9scy5hdXRvUm90YXRlO1xuICAgICAgYnRuQXV0b1JvdGF0ZS50ZXh0Q29udGVudCA9IGNvbnRyb2xzLmF1dG9Sb3RhdGUgPyAnQXV0byBSb3RhdGU6IE9OJyA6ICdBdXRvIFJvdGF0ZTogT0ZGJztcbiAgICB9KTtcblxuICAgIC8vIC0tLS0tLS0tLS0gQW5pbWF0aW9uIGxvb3AgLS0tLS0tLS0tLVxuICAgIGxldCBjbG9jayA9IG5ldyBUSFJFRS5DbG9jaygpO1xuICAgIGZ1bmN0aW9uIGFuaW1hdGUoKXtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKTtcbiAgICAgIGNvbnN0IGR0ID0gY2xvY2suZ2V0RGVsdGEoKTtcbiAgICAgIHBpcGVVbmlmb3Jtcy51VGltZS52YWx1ZSArPSBkdDtcblxuICAgICAgZmxvd0RvdHMuZm9yRWFjaChkPT57XG4gICAgICAgIGQudCA9IChkLnQgKyBkLnNwZWVkICogKDAuMyArIHBpcGVVbmlmb3Jtcy51U3BlZWQudmFsdWUpKSAlIDE7XG4gICAgICAgIGNvbnN0IHBvcyA9IGQuY3VydmUuZ2V0UG9pbnRBdChkLnQpO1xuICAgICAgICBkLm1lc2gucG9zaXRpb24uY29weShwb3MpO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnRyb2xzLnVwZGF0ZSgpO1xuICAgICAgY29tcG9zZXIucmVuZGVyKCk7XG4gICAgICBsYWJlbFJlbmRlcmVyLnJlbmRlcihzY2VuZSwgY2FtZXJhKTtcbiAgICB9XG4gICAgYW5pbWF0ZSgpO1xuXG4gICAgLy8gLS0tLS0tLS0tLSBSZXNpemUgLS0tLS0tLS0tLVxuICAgIGZ1bmN0aW9uIG9uUmVzaXplKCl7XG4gICAgICBjb25zdCB3ID0gY29udGFpbmVyLmNsaWVudFdpZHRoLCBoID0gY29udGFpbmVyLmNsaWVudEhlaWdodDtcbiAgICAgIGNhbWVyYS5hc3BlY3QgPSB3L2g7IGNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICByZW5kZXJlci5zZXRTaXplKHcsaCk7XG4gICAgICBjb21wb3Nlci5zZXRTaXplKHcsaCk7XG4gICAgICBsYWJlbFJlbmRlcmVyLnNldFNpemUodyxoKTtcbiAgICB9XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIG9uUmVzaXplKTtcblxuICAgIC8vIEluaXRpYWwgdGVsZW1ldHJ5IHNlZWQgLSBtb3JlIHJhbmRvbSBkYXRhXG4gICAgZm9yKGxldCBpPTA7aTwyNDtpKyspIHNwYXJrUHVzaCgwLjUgKyBNYXRoLnJhbmRvbSgpICogMy4wKTtcbiAgICB0aWNrVGVsZW1ldHJ5KCk7XG5cbiAgICAvLyBTdWJ0bGUgY2FtZXJhIGludHJvIGZyb20gMDMuaHRtbFxuICAgIChmdW5jdGlvbiBpbnRyb0NhbSgpe1xuICAgICAgY29uc3Qgc3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKSwgZHVyID0gMTYwMDtcbiAgICAgIGNvbnN0IHNQb3MgPSBjYW1lcmEucG9zaXRpb24uY2xvbmUoKTtcbiAgICAgIGNvbnN0IGVQb3MgPSBuZXcgVEhSRUUuVmVjdG9yMygzNCwgMjIsIDM4KTtcbiAgICAgIGZ1bmN0aW9uIHN0ZXAoKXtcbiAgICAgICAgY29uc3QgdCA9IE1hdGgubWluKDEsIChwZXJmb3JtYW5jZS5ub3coKS1zdGFydCkvZHVyKTtcbiAgICAgICAgY29uc3QgayA9IDEgLSBNYXRoLnBvdygxLXQsIDMpO1xuICAgICAgICBjYW1lcmEucG9zaXRpb24ubGVycFZlY3RvcnMoc1BvcywgZVBvcywgayk7XG4gICAgICAgIGNvbnRyb2xzLnVwZGF0ZSgpO1xuICAgICAgICBpZiAodDwxKSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RlcCk7XG4gICAgICB9XG4gICAgICBzdGVwKCk7XG4gICAgfSkoKTtcbiAgfVxuXG4gIHJldHVybiA8ZGl2IHJlZj17bW91bnRSZWZ9IHN0eWxlPXt7IHdpZHRoOiAnMTAwJScsIGhlaWdodDogJzEwMCUnIH19IC8+O1xufSJdLCJuYW1lcyI6WyJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJUSFJFRSIsIk9yYml0Q29udHJvbHMiLCJFZmZlY3RDb21wb3NlciIsIlJlbmRlclBhc3MiLCJVbnJlYWxCbG9vbVBhc3MiLCJDU1MyRFJlbmRlcmVyIiwiQ1NTMkRPYmplY3QiLCJUaHJlZVNjZW5lIiwibW91bnRSZWYiLCJpbml0IiwiY3VycmVudCIsImlubmVySFRNTCIsImNvbnRhaW5lciIsInNjZW5lIiwiU2NlbmUiLCJiYWNrZ3JvdW5kIiwiQ29sb3IiLCJmb2ciLCJGb2dFeHAyIiwiY2FtZXJhIiwiUGVyc3BlY3RpdmVDYW1lcmEiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsInBvc2l0aW9uIiwic2V0IiwicmVuZGVyZXIiLCJXZWJHTFJlbmRlcmVyIiwiYW50aWFsaWFzIiwiYWxwaGEiLCJzZXRQaXhlbFJhdGlvIiwiTWF0aCIsIm1pbiIsIndpbmRvdyIsImRldmljZVBpeGVsUmF0aW8iLCJzZXRTaXplIiwib3V0cHV0Q29sb3JTcGFjZSIsIlNSR0JDb2xvclNwYWNlIiwidG9uZU1hcHBpbmciLCJBQ0VTRmlsbWljVG9uZU1hcHBpbmciLCJ0b25lTWFwcGluZ0V4cG9zdXJlIiwiZG9tRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImFwcGVuZENoaWxkIiwibGFiZWxSZW5kZXJlciIsInN0eWxlIiwiaW5zZXQiLCJwb2ludGVyRXZlbnRzIiwiY29udHJvbHMiLCJlbmFibGVEYW1waW5nIiwidGFyZ2V0IiwibWluRGlzdGFuY2UiLCJtYXhEaXN0YW5jZSIsImF1dG9Sb3RhdGUiLCJhdXRvUm90YXRlU3BlZWQiLCJoZW1pIiwiSGVtaXNwaGVyZUxpZ2h0IiwiZGlyIiwiRGlyZWN0aW9uYWxMaWdodCIsImNvbXBvc2VyIiwicmVuZGVyUGFzcyIsImFkZFBhc3MiLCJibG9vbVBhc3MiLCJWZWN0b3IyIiwidGhyZXNob2xkIiwic3RyZW5ndGgiLCJyYWRpdXMiLCJtYWtlR3JpZFRleHR1cmUiLCJzaXplIiwibWFqb3JFdmVyeSIsImMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJ3aWR0aCIsImhlaWdodCIsImciLCJnZXRDb250ZXh0IiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJzdHJva2VTdHlsZSIsImdsb2JhbEFscGhhIiwibGluZVdpZHRoIiwiaSIsImJlZ2luUGF0aCIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsIkNhbnZhc1RleHR1cmUiLCJncmlkVGV4Iiwid3JhcFMiLCJ3cmFwVCIsIlJlcGVhdFdyYXBwaW5nIiwicmVwZWF0IiwiZmxvb3JNYXQiLCJNZXNoU3RhbmRhcmRNYXRlcmlhbCIsImNvbG9yIiwibWFwIiwibWV0YWxuZXNzIiwicm91Z2huZXNzIiwiZmxvb3IiLCJNZXNoIiwiUGxhbmVHZW9tZXRyeSIsInJvdGF0aW9uIiwieCIsIlBJIiwieSIsImdyaWRIZWxwZXIiLCJHcmlkSGVscGVyIiwiYWRkTGFiZWwiLCJvYmoiLCJ0ZXh0IiwiZWwiLCJjbGFzc05hbWUiLCJ0ZXh0Q29udGVudCIsImxhYmVsIiwicGlwZVVuaWZvcm1zIiwidVRpbWUiLCJ2YWx1ZSIsInVDb2xvckEiLCJ1Q29sb3JCIiwidUdsb3ciLCJ1U3BlZWQiLCJ1U3RyaXBlIiwidU1peCIsInBpcGVNYXQiLCJTaGFkZXJNYXRlcmlhbCIsInVuaWZvcm1zIiwidHJhbnNwYXJlbnQiLCJibGVuZGluZyIsIkFkZGl0aXZlQmxlbmRpbmciLCJkZXB0aFdyaXRlIiwidmVydGV4U2hhZGVyIiwiZnJhZ21lbnRTaGFkZXIiLCJtYWtlUGlwZSIsInBvaW50cyIsImN1cnZlIiwiQ2F0bXVsbFJvbUN1cnZlMyIsImdlb20iLCJUdWJlR2VvbWV0cnkiLCJtYXgiLCJsZW5ndGgiLCJtZXNoIiwic2hlbGwiLCJvcGFjaXR5IiwiZ3JvdXAiLCJHcm91cCIsIlBJQ0siLCJtYWtlVGFuayIsImlkIiwicG9zIiwiY29weSIsImN5bCIsIkN5bGluZGVyR2VvbWV0cnkiLCJlbWlzc2l2ZSIsImVtaXNzaXZlSW50ZW5zaXR5IiwidXNlckRhdGEiLCJuYW1lIiwidHlwZSIsInRlbXAiLCJyYW5kb20iLCJsb2FkIiwic3RhdGUiLCJwdXNoIiwicmVmIiwibWFrZUNoaWxsZXIiLCJib3giLCJCb3hHZW9tZXRyeSIsImZyYW1lIiwiTGluZVNlZ21lbnRzIiwiRWRnZXNHZW9tZXRyeSIsIkxpbmVCYXNpY01hdGVyaWFsIiwibWFrZUNvbXByZXNzb3IiLCJiYXNlIiwiYm9keSIsInRhbmtzIiwiY2hpbGxlcnMiLCJjb21wcmVzc29ycyIsInRhbmtQb3NpdGlvbnMiLCJmb3JFYWNoIiwieiIsIlZlY3RvcjMiLCJjaGlsbGVyUG9zaXRpb25zIiwiY29tcHJlc3NvclBvc2l0aW9ucyIsInBpcGVzIiwidGFua01haW5QdHMiLCJ0IiwicCIsImNsb25lIiwiY2hpbGxlck1haW5QdHMiLCJjb21wcmVzc29yTWFpblB0cyIsIm1vdmluZ0RvdCIsIm0iLCJTcGhlcmVHZW9tZXRyeSIsIk1lc2hCYXNpY01hdGVyaWFsIiwiZmxvd0RvdHMiLCJzbGljZSIsImQiLCJzcGVlZCIsInJheWNhc3RlciIsIlJheWNhc3RlciIsIm1vdXNlIiwic2VsZWN0ZWQiLCJzZXRTZWxlY3Rpb24iLCJ1cGRhdGVTaWRlIiwib25Qb2ludGVyIiwiZSIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJjbGllbnRYIiwibGVmdCIsImNsaWVudFkiLCJ0b3AiLCJzZXRGcm9tQ2FtZXJhIiwibGlzdCIsImludGVyc2VjdE9iamVjdHMiLCJvYmplY3QiLCJhZGRFdmVudExpc3RlbmVyIiwiYWxsQXNzZXRzIiwidGlja1RlbGVtZXRyeSIsInRocm91Z2hwdXQiLCJ1IiwiayIsImNoaWxkcmVuIiwiZmluZCIsImlzTWVzaCIsImVtaXNzaXZlQm9vc3QiLCJtYXRlcmlhbCIsImxibCIsImNoIiwiaXNDU1MyRE9iamVjdCIsImVsZW1lbnQiLCJ0b2dnbGUiLCJ0b0ZpeGVkIiwiZ2V0RWxlbWVudEJ5SWQiLCJzcGFya1B1c2giLCJzZXRJbnRlcnZhbCIsInRvVXBwZXJDYXNlIiwic3BhcmsiLCJzZyIsInNwYXJrRGF0YSIsInNwYXJrRHJhdyIsInciLCJoIiwiY2xlYXJSZWN0IiwiZ3JhZCIsImNyZWF0ZUxpbmVhckdyYWRpZW50IiwiYWRkQ29sb3JTdG9wIiwidiIsImNsb3NlUGF0aCIsImZpbGwiLCJzaGlmdCIsImZsb3dSYWRpb3MiLCJxdWVyeVNlbGVjdG9yQWxsIiwiciIsIm1vZGUiLCJOdW1iZXIiLCJxdWVyeVNlbGVjdG9yIiwidXBkYXRlIiwiZGFyayIsImJ0bkF1dG9Sb3RhdGUiLCJjbG9jayIsIkNsb2NrIiwiYW5pbWF0ZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImR0IiwiZ2V0RGVsdGEiLCJnZXRQb2ludEF0IiwicmVuZGVyIiwib25SZXNpemUiLCJhc3BlY3QiLCJ1cGRhdGVQcm9qZWN0aW9uTWF0cml4IiwiaW50cm9DYW0iLCJzdGFydCIsInBlcmZvcm1hbmNlIiwibm93IiwiZHVyIiwic1BvcyIsImVQb3MiLCJzdGVwIiwicG93IiwibGVycFZlY3RvcnMiLCJkaXYiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/ThreeScene.js\n");

/***/ })

};
;